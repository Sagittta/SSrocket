<<<<<<< HEAD

=======
>>>>>>> 17a49be66bc932c84bec3098e3fb8653defa3df7
<!DOCTYPE html>
<html lang="ko">
    <head>
        {% load static %}
<<<<<<< HEAD
        <meta charset="utf-8">
        <link rel="stylesheet" href="{% static 'css/signup1.css' %}" type="text/css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script type="text/javascript"></script>
        <script src="{% static 'js/signup.js' %}"></script>
        <title>signup</title>
    </head>
    <body>
        {% load static %}

        <form action = "{% url 'signup' %}" name = "signupForm" method = "POST" accept-charset="UTF-8"> {% csrf_token %}
            <div id="container">
                <a href="{% url 'signin'%}"><img id="login-text2" name="login-text2" src="{% static 'img/login-text2.png' %}"></a>
                <img id="join-text1" src="{% static 'img/join-text1.png' %}">
                <img id="bar-round" src="{% static 'img/bar-round.png' %}">
                <img id="bar-01" src="{% static 'img/bar-gray.png' %}">
                <img id="bar-02" src="{% static 'img/bar-gray.png' %}">
                <img id="bar-03" src="{% static 'img/bar-gray.png' %}">
                <img id="bar-04" src="{% static 'img/bar-gray.png' %}">
                <img id="bar-recheck" src="{% static 'img/bar-recheck.png' %}">
                <img id="finishbt"  src="{% static 'img/finishbt.png' %}" onclick = "sm()">
                <input type="text" name="join_name" id="join_name" placeholder="Name" onFocus="clearText(this)"/>
                <input type="email" name="join_id" id="join_id" placeholder="E-mail" onFocus="clearText(this)"/>
                <input type="password" name="join_pwd" id="join_pwd" placeholder="Password" onFocus="clearText(this)"/>
                <input type="password" name="join_pwdck" id="join_pwdck" placeholder="Password Re-Enter" onFocus="clearText(this)"/>   
        </div>
    </form>
    </body>
</html>
=======

        <link rel="stylesheet" href="{% static 'css/signup1.css' %}" type="text/css"> <!--signup.css 링크-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script type="text/javascript"></script>
        <script src="{% static 'js/signin.js' %}"></script> <!--signup.js 링크-->
        <title>signup</title>
    </head>

    <script>
        /* 중복체크! */
        $(function(){
            /* 아이디 수정했을 때 */
            $('#email').change(function () {
                $('#signup_reemail').show();
            });
    
            // 중복확인 버튼을 눌렀을 때
            $('#signup_reemail').click(function(){
                console.log("버튼 눌림");
                var email = $('#email').val();
                // 이메일 란이 공백일 경우
                if(email == ''){
                    alert('이메일을 입력해주세요.');
                    return false;
                }
                // debugger;
                $.ajax({
                    url:'check_email',
                    data: {
                        email: email
                    },
                    type:'get',
                    dataType:'json',
                    success:function(response){
                        console.log("ajax 들어감");
                        if(response.result != 'success'){
                            console.error(response.data)
                            return;
                        }
                        if(response.data == 'exist'){
                            alert("존재하는 이메일 입니다!");
                            $('#email').val('').focus();
                            return;
                        } else {
                            alert("사용 가능한 이메일입니다!");
                            $("#join_bt").attr("id_check_result", "success");
                            return;
                        }
                        // console.log(response)
                    },
                    error : function(xhr, error){
                        alert("서버와의 통신에서 문제가 발생했습니다.");
                        console.error("error : " + error);
                    }
                });

                return false;
            });
    
            // 가입 버튼 눌렀을 때
            $('#joinForm').submit(function() {
                if($("#join_bt").attr("id_check_result") == "fail") {
                    alert("이메일 중복 확인를 해주시기 바랍니다.");
                    $("#email").focus();
                    return false;
                }
            });
        
            $("#email").on("propertychange change keyup paste input", function(){
                $('#signup_reemail').show();
                $("#join_bt").attr("id_check_result", "fail");
            });
        });

        // 비밀번호 확인
        $(function(){ 
            $("#alert-success").hide(); 
            $("#alert-danger").hide(); 
            $("input").keyup(function(){ 
                var pwd = $("#pwd").val(); 
                var pwdCk = $("#repwd").val(); 
                if(pwd != "" || pwdCk != ""){ 
                    if(pwd == pwdCk){ 
                        $("#alert-success").show(); 
                        $("#alert-danger").hide(); 
                        $("#join_bt").removeAttr("disabled"); 
                    } else{ 
                        $("#alert-success").hide(); 
                        $("#alert-danger").show(); 
                        $("#join_bt").attr("disabled", "disabled"); 
                    } 
                } 
            }); 
        });

    </script>

    <body>
        {% load static %}
        <div id="container">
        <img id="signup_logo" name="signup_logo" src="{% static 'img/logotype.png' %}"> <!--회원가입 로고 삽입-->

        <form id="joinForm" method="POST" accept-charset="utf-8" action = "{% url 'signup' %}">{% csrf_token %}

            <img id="signup_name" name="signup_name" src="{% static 'img/bar-op.png' %}"> <!--회원가입 이름 박스 삽입-->
            <input type="text" name="name" id="name" placeholder="이름을 작성해주세요!"/>

            <img id="signup_email" name="signup_email" src="{% static 'img/bar-op.png' %}"> <!--회원가입 이메일 박스 삽입-->
            <input type="email" name="email" id="email" placeholder="E-mail"/>

            <input type='image' id="signup_reemail" name="signup_reemail" src="{% static 'img/bar-recheck.png' %}"> <!--회원가입 이메일 중복확인 박스 삽입-->
            <input type='hidden' id=info name = info value = "1">
            <img id="signup_pw" name="signup_pw" src="{% static 'img/bar-op.png' %}"> <!--회원가입 비밀번호 박스 삽입-->
            <input type="text" name="pw" id="pw" placeholder="Password"/>

            <img id="signup_repw" name="signup_repw" src="{% static 'img/bar-op.png' %}"> <!--회원가입 비밀번호 재확인 박스 삽입-->
            <input type="password" name="repw" id="repw"/>

            <!-- 이거 비밀번호 확인 창 아래에 넣어주라. -->
            <div id="alert-success">비밀번호가 일치합니다.</div>
            <div id="alert-danger">비밀번호가 일치하지 않습니다.</div>

            <input type='image' id="join_bt" name="join_bt" src="{% static 'img/bar-join.png' %}" alt="Submit" onclick=sm()><!--가입하기 버튼 삽입-->
        </form>
       
        </div>
    </body>
</html>
>>>>>>> 17a49be66bc932c84bec3098e3fb8653defa3df7
